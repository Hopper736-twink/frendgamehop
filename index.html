<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PartyGame</title>
<style>
*{box-sizing:border-box}
body{
margin:0;
height:100vh;
font-family:system-ui,Arial;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:#fff;
display:flex;
justify-content:center;
align-items:center;
}
#app{
width:100%;
max-width:420px;
padding:20px;
}
.card{
background:rgba(255,255,255,.12);
backdrop-filter:blur(14px);
border-radius:22px;
padding:20px;
box-shadow:0 20px 40px rgba(0,0,0,.45);
animation:fade .3s ease;
}
h1,h2{text-align:center;margin-top:0}
button{
width:100%;
padding:14px;
margin-top:12px;
border:none;
border-radius:16px;
font-size:16px;
background:#ff4ecd;
color:white;
cursor:pointer;
transition:.2s;
}
button:hover{transform:scale(1.04)}
input{
width:100%;
padding:14px;
margin-top:12px;
border-radius:16px;
border:none;
font-size:16px;
}
.menu button{background:#6c63ff}
.small{opacity:.8;font-size:14px;text-align:center}
@keyframes fade{
from{opacity:0;transform:translateY(10px)}
to{opacity:1}
}
</style>
</head>
<body>

<div id="app"></div>

<script>
const app=document.getElementById("app");

/* ====== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ====== */
function mainMenu(){
app.innerHTML=`
<div class="card menu">
<h1>üéâ PartyGame</h1>
<button onclick="truthMenu()">üé≠ –ü—Ä–∞–≤–¥–∞ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ</button>
<button onclick="spyMode()">üïµÔ∏è –®–ø–∏–æ–Ω</button>
<button onclick="mafiaMode()">ü©∏ –ú–∞—Ñ–∏—è</button>
<p class="small">–ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –ø–æ –∫—Ä—É–≥—É</p>
</div>`;
}

/* ====== –ü–†–ê–í–î–ê –ò–õ–ò –î–ï–ô–°–¢–í–ò–ï ====== */
let players=[],fatigue={},turn=0;

const truths=[
"–í –∫–æ–≥–æ —Ç—ã –∫–æ–≥–¥–∞-—Ç–æ –≤–ª—é–±–ª—è–ª—Å—è?",
"–°–∞–º—ã–π —Å—Ç—Ä–∞–Ω–Ω—ã–π —Ç–≤–æ–π —Å—Ç—Ä–∞—Ö?",
"–û —á—ë–º —Ç—ã —á–∞—â–µ –≤—Å–µ–≥–æ –≤—Ä—ë—à—å?"
];
const dares=[
"–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –ª–∏—Ü–æ –Ω–∞ 10 —Å–µ–∫—É–Ω–¥",
"–í—Å—Ç–∞–Ω—å –∏ –ø–æ–≤–µ—Ä–Ω–∏—Å—å 3 —Ä–∞–∑–∞",
"–ò–∑–æ–±—Ä–∞–∑–∏ –∂–∏–≤–æ—Ç–Ω–æ–µ"
];

function truthMenu(){
players=[];fatigue={};turn=0;
app.innerHTML=`
<div class="card">
<h2>–ü—Ä–∞–≤–¥–∞ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ</h2>
<input id="name" placeholder="–ò–º—è –∏–≥—Ä–æ–∫–∞">
<button onclick="addPlayer()">–î–æ–±–∞–≤–∏—Ç—å</button>
<div id="list" class="small"></div>
<button onclick="startTruth()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
<button onclick="mainMenu()">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>`;
}

function addPlayer(){
const n=document.getElementById("name").value.trim();
if(!n)return;
players.push(n);
fatigue[n]=0;
document.getElementById("list").innerText=players.join(", ");
document.getElementById("name").value="";
}

function startTruth(){
if(players.length<2)return alert("–ú–∏–Ω–∏–º—É–º 2 –∏–≥—Ä–æ–∫–∞");
nextTurn();
}

function nextTurn(extra=false){
const name=players[turn];
const isTruth=Math.random()<0.5;
const task=isTruth?truths[Math.floor(Math.random()*truths.length)]
                  :dares[Math.floor(Math.random()*dares.length)];
app.innerHTML=`
<div class="card">
<h2>${name}</h2>
<p>${isTruth?"ü§î –ü—Ä–∞–≤–¥–∞":"üî• –î–µ–π—Å—Ç–≤–∏–µ"}</p>
<p>${task}</p>
<button onclick="done()">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
<button onclick="skip()">–û—Ç–∫–∞–∑</button>
</div>`;
if(!extra)turn=(turn+1)%players.length;
}

function done(){nextTurn()}

function skip(){
const name=players[(turn-1+players.length)%players.length];
fatigue[name]++;
if(fatigue[name]>=2){
fatigue[name]=0;
nextTurn(true);
}else nextTurn();
}

/* ====== –®–ü–ò–û–ù ====== */
function spyMode(){
app.innerHTML=`
<div class="card">
<h2>üïµÔ∏è –®–ø–∏–æ–Ω</h2>
<p>–û–¥–∏–Ω –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ ‚Äî —à–ø–∏–æ–Ω</p>
<button onclick="alert('–¢—ã —à–ø–∏–æ–Ω üëÅÔ∏è')">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–æ–ª—å</button>
<button onclick="mainMenu()">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>`;
}

/* ====== –ú–ê–§–ò–Ø ====== */
function mafiaMode(){
app.innerHTML=`
<div class="card">
<h2>ü©∏ –ú–∞—Ñ–∏—è</h2>
<p>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–∞—Ñ–∏—è –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏</p>
<button onclick="alert('–ù–æ—á—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è‚Ä¶')">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
<button onclick="mainMenu()">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>`;
}

mainMenu();
</script>
</body>
</html>