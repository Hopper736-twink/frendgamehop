<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PartyGame ‚Äî Truth / Spy / Mafia</title>
<style>
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#071021,#10223a);color:#eaf6ff}
  .wrap{max-width:920px;margin:18px auto;padding:18px;display:grid;grid-template-columns:320px 1fr;gap:18px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:14px;padding:14px;box-shadow:0 8px 30px rgba(2,8,23,0.6)}
  header h1{margin:0 0 8px 0;font-size:20px}
  .menu button, .primary{display:block;width:100%;padding:12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .menu button{background:linear-gradient(90deg,#6e7bff,#7be0c7);color:#04121a;margin-bottom:8px}
  .muted{background:transparent;border:1px solid rgba(255,255,255,0.04);color:#9fb0c6}
  input,select{width:100%;padding:10px;border-radius:8px;border:none;background:rgba(255,255,255,0.02);color:inherit;margin-bottom:8px}
  .small{font-size:13px;color:#9fb0c6}
  #log{max-height:300px;overflow:auto;font-size:13px;color:#9fb0c6}
  .center{display:flex;gap:8px}
  .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);font-weight:700}
  footer{margin-top:12px;color:#9fb0c6;font-size:13px;text-align:center}
  @media(max-width:900px){.wrap{grid-template-columns:1fr;padding:10px}}
</style>
</head>
<body>

<div class="wrap">
  <!-- left panel: controls / settings -->
  <div class="card" id="left">
    <header>
      <h1>PartyGame</h1>
      <div class="small">–í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º –∏ –∏–≥—Ä–∞–π. –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ –∫—Ä—É–≥—É.</div>
    </header>

    <div style="margin-top:12px" class="menu">
      <button onclick="openMode('truth')">üé≠ –ü—Ä–∞–≤–¥–∞ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ</button>
      <button onclick="openMode('spy')">üïµÔ∏è –®–ø–∏–æ–Ω</button>
      <button onclick="openMode('mafia')">ü©∏ –ú–∞—Ñ–∏—è</button>
    </div>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0">

    <div>
      <div class="small" style="margin-bottom:6px">–ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–¥–∞–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, raw JSON URL)</div>
      <input id="tasksUrl" placeholder="https://raw.githubusercontent.com/username/repo/main/tasks.json">
      <button class="muted" onclick="loadExternalTasks()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è</button>
      <div id="tasksStatus" class="small" style="margin-top:6px">–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.</div>
    </div>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0">

    <div>
      <h3 style="margin:0 0 8px 0">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ú–∞—Ñ–∏—è)</h3>
      <label class="small">–ß–∏—Å–ª–æ –º–∞—Ñ–∏–π (–∞–≤—Ç–æ-–∞–¥–∞–ø—Ç–∏—Ä—É–µ–º–æ–µ)</label>
      <input id="mafiaCountInput" type="number" min="1" value="1">
      <label class="small">–í–∫–ª—é—á–∏—Ç—å –î–æ–∫—Ç–æ—Ä–∞</label>
      <select id="enableDoctor"><option value="1">–î–∞</option><option value="0">–ù–µ—Ç</option></select>
      <label class="small">–í–∫–ª—é—á–∏—Ç—å –®–µ—Ä–∏—Ñ–∞</label>
      <select id="enableSheriff"><option value="1">–î–∞</option><option value="0">–ù–µ—Ç</option></select>
      <div style="margin-top:8px">
        <button class="primary" onclick="applyMafiaSettings()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
      <div class="small" style="margin-top:8px">–ï—Å–ª–∏ –∑–∞–¥–∞–Ω–æ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ —á–∏—Å–ª–∞ –∏–≥—Ä–æ–∫–æ–≤ ‚Äî –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–æ–≥–Ω–∞–Ω–æ.</div>
    </div>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0">

    <div>
      <h3 style="margin:0 0 8px 0">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3>
      <button class="muted" onclick="exportState()">–≠–∫—Å–ø–æ—Ä—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è (JSON)</button>
      <button class="muted" onclick="importStatePrompt()">–ò–º–ø–æ—Ä—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è</button>
      <div id="importArea" style="display:none;margin-top:8px">
        <textarea id="importJson" style="width:100%;height:80px"></textarea>
        <button class="muted" onclick="doImport()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
    </div>

    <footer>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ GitHub Pages: –ø–æ–ª–æ–∂–∏ –æ–¥–∏–Ω —Ñ–∞–π–ª <strong>index.html</strong> –≤ –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.</footer>
  </div>

  <!-- right panel: game board -->
  <div class="card" id="board">
    <div id="mainArea">
      <h2 style="margin-top:0">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h2>
      <p class="small">–í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º —Å–ª–µ–≤–∞, –¥–æ–±–∞–≤—å –∏–≥—Ä–æ–∫–æ–≤ ‚Äî –∏ –≤–ø–µ—Ä–µ–¥. –Ø —Å–¥–µ–ª–∞–ª –≤—Å—ë –∫–∞–∫ —Ç—ã –ø—Ä–æ—Å–∏–ª.</p>
      <div style="margin-top:12px"><span class="pill">–ü–æ–¥—Å–∫–∞–∑–∫–∞</span> –ü—Ä–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º –ø–æ–∫–∞–∑–µ —Ä–æ–ª–µ–π ‚Äî –ø–µ—Ä–µ–¥–∞–≤–∞–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –Ω–∞–∂–∏–º–∞–π –∫–Ω–æ–ø–∫—É ¬´–ü–æ–∫–∞–∑–∞—Ç—å —Ä–æ–ª—å¬ª, –∑–∞—Ç–µ–º ¬´–°–∫—Ä—ã—Ç—å/–î–∞–ª–µ–µ¬ª.</div>
    </div>

    <div id="log" style="margin-top:12px"></div>
  </div>
</div>

<script>
/* =========================
   PartyGame ‚Äî all-in-one
   Modes: truth (100/100), spy (100 words), mafia (roles, night/day)
   Single-file, no external libs.
   ========================= */

///// DATA (embedded) /////
// 100 truth and 100 dare (you can replace or load external JSON)
const EMBEDDED = {
  truths: [
    "–ö—Ç–æ —Ç–≤–æ–π –ª—é–±–∏–º—ã–π –≥–µ—Ä–æ–π?", "–°–∞–º—ã–π —Å–º–µ—à–Ω–æ–π –º–æ–º–µ–Ω—Ç –≤ –∂–∏–∑–Ω–∏?", "–ö–æ–≥–æ –∏–∑ –¥—Ä—É–∑–µ–π –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏—à—å?",
    "–ö–∞–∫–æ–µ —Ç–≤–æ–µ –ª—é–±–∏–º–æ–µ –±–ª—é–¥–æ?", "–ß—Ç–æ —Ç–µ–±—è –ø—É–≥–∞–µ—Ç?", "–ö–∞–∫–∞—è –ø–µ—Å–Ω—è —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è?", "–¢–≤–æ–µ –ª—é–±–∏–º–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ?",
    "–¢—ã –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å –≤—Ä–∞–ª —Ä–æ–¥–∏—Ç–µ–ª—è–º?", "–ß—Ç–æ —Å–∞–º–æ–µ –Ω–µ–æ–±—ã—á–Ω–æ–µ —Ç—ã –µ–ª?", "–¢–≤–æ—è –ª—é–±–∏–º–∞—è –∏–≥—Ä–∞?",
    "–ö–∞–∫–∞—è —Ç–≤–æ—è –º–µ—á—Ç–∞?", "–°–∞–º—ã–π —Å—Ç—Ä–∞–Ω–Ω—ã–π —Å–æ–Ω?", "–ß—Ç–æ —Ç–µ–±—è —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç?", "–ö–æ–≥–æ —Ç—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —É–≤–∞–∂–∞–µ—à—å?",
    "–ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ä–∞–¥—É–µ—Ç?", "–°–∞–º—ã–π –∑–∞–±–∞–≤–Ω—ã–π —Å–ª—É—á–∞–π?", "–ß—Ç–æ –±—ã —Ç—ã —Ö–æ—Ç–µ–ª –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Å–µ–±–µ?",
    "–ö—Ç–æ —Ç–≤–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥?", "–ö–∞–∫—É—é –∫–Ω–∏–≥—É —Ç—ã –Ω–µ–¥–∞–≤–Ω–æ —á–∏—Ç–∞–ª?", "–ß—Ç–æ —Ç–µ–±—è –∑–ª–∏—Ç?",
    "–¢–≤–æ—è –ª—é–±–∏–º–∞—è –∏–≥—Ä–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ?", "–õ—é–±–∏–º–∞—è –µ–¥–∞ –Ω–∞ –∑–∞–≤—Ç—Ä–∞–∫?", "–ö–∞–∫–æ–π —Ç–≤–æ–π –ª—é–±–∏–º—ã–π —Ñ–∏–ª—å–º?",
    "–ß—Ç–æ —Ç–µ–±—è –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç?", "–¢–≤–æ—è –ª—é–±–∏–º–∞—è –∏–≥—Ä–∞ —Å –¥—Ä—É–∑—å—è–º–∏?", "–°–∞–º–∞—è –Ω–µ–æ–±—ã—á–Ω–∞—è –ø—Ä–∏–≤—ã—á–∫–∞?",
    "–ß—Ç–æ —Ç—ã —É–º–µ–µ—à—å –ª—É—á—à–µ –≤—Å–µ—Ö?", "–°–∞–º–æ–µ —Å—Ç—Ä–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ –±—ã–ª?", "–ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–æ–∏—à—å—Å—è?",
    "–ö–∞–∫—É—é —Å—É–ø–µ—Ä—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ö–æ—á–µ—à—å?", "–°–∞–º–æ–µ —Å–º–µ—à–Ω–æ–µ —Å–ª–æ–≤–æ?", "–ß—Ç–æ —Ç–µ–±—è –æ–≥–æ—Ä—á–∞–µ—Ç?",
    "–¢–≤–æ–µ –ª—é–±–∏–º–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –≤ –∑–æ–æ–ø–∞—Ä–∫–µ?", "–ß—Ç–æ —Ö–æ—Ç–µ–ª –±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?", "–°–∞–º—ã–π –ª—É—á—à–∏–π –ø–æ–¥–∞—Ä–æ–∫?",
    "–°–∞–º—ã–π –ª—é–±–∏–º—ã–π –ø—Ä–∞–∑–¥–Ω–∏–∫?", "–¢–≤–æ–µ –ª—é–±–∏–º–æ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ?", "–ö–∞–∫–æ–π —Ç–≤–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç?",
    "–°–∞–º—ã–π —Å–º–µ—à–Ω–æ–π –º–æ–º–µ–Ω—Ç –≤ —à–∫–æ–ª–µ?", "–õ—é–±–∏–º–∞—è –ø–µ—Å–Ω—è –∏–∑ –º—É–ª—å—Ç–∏–∫–∞?", "–°–∞–º–æ–µ –Ω–µ–ª–µ–ø–æ–µ —Ä–µ—à–µ–Ω–∏–µ?",
    "–ß—Ç–æ —Ö–æ—á–µ—à—å –Ω–∞ –æ–±–µ–¥?", "–ö–æ–≥–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏—à—å –≤ —Å–µ–º—å–µ?", "–ß—Ç–æ –±—ã —Å–¥–µ–ª–∞–ª —Å –¥—Ä—É–∑—å—è–º–∏?",
    "–ß—Ç–æ —Ö–æ—á–µ—à—å –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?", "–°–∞–º–∞—è —Å—Ç—Ä–∞–Ω–Ω–∞—è –µ–¥–∞?", "–ö–æ–≥–æ –∏–∑ –¥—Ä—É–∑–µ–π —É–≤–∞–∂–∞–µ—à—å?",
    "–ß—Ç–æ –¥–µ–ª–∞–µ—à—å –ø–µ—Ä–µ–¥ —Å–Ω–æ–º?", "–¢–≤–æ—è –ª—é–±–∏–º–∞—è –∏–≥—Ä—É—à–∫–∞?", "–°–∞–º–æ–µ —Å–º–µ—à–Ω–æ–µ —Å–ª–æ–≤–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º?",
    "–ß—Ç–æ –±–æ–∏—à—å—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ?", "–õ—é–±–∏–º–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞?", "–°–∞–º—ã–π —Å–º–µ—à–Ω–æ–π —Ñ–∏–ª—å–º?",
    "–ß—Ç–æ –¥–µ–ª–∞–µ—à—å –ø–æ—Å–ª–µ —à–∫–æ–ª—ã?", "–ß—Ç–æ —Ö–æ—á–µ—à—å –Ω–∞ —É–∂–∏–Ω?", "–õ—é–±–∏–º—ã–π –º—É–ª—å—Ç—Ñ–∏–ª—å–º?",
    "–°–∞–º–∞—è —Å–º–µ—à–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –¥–æ–º–∞?", "–ß—Ç–æ —Ö–æ—á–µ—à—å –ø–æ–¥–∞—Ä–∏—Ç—å –¥—Ä—É–≥—É?", "–¢–≤–æ—è –ª—é–±–∏–º–∞—è –∏–≥—Ä–∞ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ?",
    "–ß—Ç–æ –¥–µ–ª–∞–µ—à—å —É—Ç—Ä–æ–º?", "–°–∞–º—ã–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —É—Ä–æ–∫?", "–ö—Ç–æ —Ç–≤–æ–π –ª—é–±–∏–º—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂?",
    "–ß—Ç–æ —Ö–æ—Ç–µ–ª –±—ã –∏–∑–º–µ–Ω–∏—Ç—å –≤ —à–∫–æ–ª–µ?", "–õ—é–±–∏–º–∞—è –∏–≥—Ä—É—à–∫–∞ –∏–∑ –¥–µ—Ç—Å—Ç–≤–∞?", "–°–∞–º–æ–µ —Å–º–µ—à–Ω–æ–µ –∏–º—è?",
    "–ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏—à—å –¥–µ–ª–∞—Ç—å?", "–¢–≤–æ–π –ª—é–±–∏–º—ã–π –ø—Ä–µ–¥–º–µ—Ç –≤ —à–∫–æ–ª–µ?", "–ß—Ç–æ —Ç–µ–±—è –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç —É—Ç—Ä–æ–º?",
    "–õ—é–±–∏–º–∞—è –µ–¥–∞ –Ω–∞ –æ–±–µ–¥?", "–°–∞–º—ã–π —Å–º–µ—à–Ω–æ–π –º—É–ª—å—Ç—Ñ–∏–ª—å–º?", "–ß—Ç–æ —Ç–µ–±—è –≤–µ—Å–µ–ª–∏—Ç?",
    "–°–∞–º–∞—è –ª—é–±–∏–º–∞—è –∫–Ω–∏–≥–∞?", "–ß—Ç–æ —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å?", "–õ—é–±–∏–º—ã–π —Ü–≤–µ—Ç –æ–¥–µ–∂–¥—ã?",
    "–°–∞–º–∞—è —Å—Ç—Ä–∞–Ω–Ω–∞—è –ø—Ä–∏–≤—ã—á–∫–∞ –¥—Ä—É–≥–∞?", "–ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏—à—å –≤ —Å–µ–º—å–µ?", "–¢–≤–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥ –≤ –∫–ª–∞—Å—Å–µ?",
    "–ß—Ç–æ —Ö–æ—Ç–µ–ª –±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤ –∂–∏–∑–Ω–∏?", "–°–∞–º–æ–µ –ª—é–±–∏–º–æ–µ –∑–∞–Ω—è—Ç–∏–µ –¥–æ–º–∞?", "–ß—Ç–æ —Ö–æ—á–µ—à—å –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö?",
    "–õ—é–±–∏–º–∞—è –ø–µ—Å–Ω—è —Å–µ–π—á–∞—Å?", "–ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ —É–ª–∏—Ü–µ?", "–°–∞–º–∞—è —Å–º–µ—à–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å –¥—Ä—É–∑—å—è–º–∏?",
    "–ß—Ç–æ —Ö–æ—Ç–µ–ª –±—ã —Å–¥–µ–ª–∞—Ç—å –ª–µ—Ç–æ–º?", "–õ—é–±–∏–º–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –¥–æ–º–∞?", "–ß—Ç–æ —Ö–æ—á–µ—à—å –µ—Å—Ç—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞–∫?",
    "–°–∞–º–∞—è —Å–º–µ—à–Ω–∞—è —à—É—Ç–∫–∞?", "–ß—Ç–æ —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —É–ª–∏—Ü–µ?", "–õ—é–±–∏–º–∞—è –µ–¥–∞ –≤–µ—á–µ—Ä–æ–º?",
    "–ß—Ç–æ –¥–µ–ª–∞–µ—à—å –≤ —à–∫–æ–ª–µ?", "–°–∞–º–∞—è –ª—é–±–∏–º–∞—è –∏–≥—Ä—É—à–∫–∞ —Å–µ–π—á–∞—Å?", "–ß—Ç–æ —Ö–æ—á–µ—à—å –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫?",
    "–õ—é–±–∏–º–∞—è –∏–≥—Ä–∞ —Å —Å–µ–º—å–µ–π?", "–ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏—à—å –¥–µ–ª–∞—Ç—å –Ω–∞ —É–ª–∏—Ü–µ?", "–°–∞–º–∞—è –∑–∞–±–∞–≤–Ω–∞—è –ø—Ä–∏–≤—ã—á–∫–∞?"
  ],
  dares:[
    "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –ª–∏—Ü–æ 10 —Å–µ–∫—É–Ω–¥", "–ü—Ä—ã–≥–Ω–∏ –Ω–∞ –º–µ—Å—Ç–µ 5 —Ä–∞–∑", "–°–∫–∞–∂–∏ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç –∫–∞–∂–¥–æ–º—É –∏–≥—Ä–æ–∫—É",
    "–ò–∑–æ–±—Ä–∞–∑–∏ –∂–∏–≤–æ—Ç–Ω–æ–µ", "–ü—Ä–æ—á–∏—Ç–∞–π —Å–∫–æ—Ä–æ–≥–æ–≤–æ—Ä–∫—É", "–°–¥–µ–ª–∞–π 10 –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–π", "–°–ø–æ–π 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Å–Ω—é",
    "–°–∫–∞–∂–∏ —Å–∞–º–æ–µ —Å—Ç—Ä–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ", "–ü–æ–∫–∞–∂–∏ —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–π —à–∞–≥", "–°—ä–µ—à—å –ª–æ–∂–∫—É —Å–∞—Ö–∞—Ä–∞",
    "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–π –∑–≤—É–∫", "–ü—Ä–∏–¥—É–º–∞–π —à—É—Ç–∫—É", "–ü—Ä—ã–≥–Ω–∏ –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–≥–µ 10 —Ä–∞–∑", "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
    "–ò–∑–æ–±—Ä–∞–∑–∏ —ç–º–æ—Ü–∏—é", "–ü–æ—Å—Ç–æ–π –º–æ–ª—á–∞ –º–∏–Ω—É—Ç—É", "–ü–æ–ø—Ä–æ–±—É–π —É–¥–µ—Ä–∂–∞—Ç—å –±–∞–ª–∞–Ω—Å 10 —Å–µ–∫—É–Ω–¥",
    "–ò–∑–æ–±—Ä–∞–∑–∏ –ª—é–±–∏–º–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ", "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –ª–∏—Ü–æ –∏ –¥–µ—Ä–∂–∏ 5 —Å–µ–∫—É–Ω–¥", "–ü—Ä–∏–¥—É–º–∞–π —Å–º–µ—à–Ω–æ–µ —Å–ª–æ–≤–æ",
    "–°–∫–∞–∂–∏ —Å–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ", "–ò–∑–æ–±—Ä–∞–∑–∏ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç—å", "–°–ø–æ–π –ø—Ä–∏–ø–µ–≤ –ø–µ—Å–Ω–∏", "–ü—Ä–æ—á–∏—Ç–∞–π —á—Ç–æ-—Ç–æ —Å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º",
    "–°–∫–∞–∂–∏ —Ñ—Ä–∞–∑—É —Å –∞–∫—Ü–µ–Ω—Ç–æ–º", "–°–¥–µ–ª–∞–π —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–π —à–∞–≥", "–°–∫–∞–∂–∏ —Å–º–µ—à–Ω—É—é —Ñ—Ä–∞–∑—É", "–ò–∑–æ–±—Ä–∞–∑–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞",
    "–°–¥–µ–ª–∞–π –ø–∞–Ω—Ç–æ–º–∏–º—É 10 —Å–µ–∫—É–Ω–¥", "–°–∫–∞–∂–∏ —Å–≤–æ—ë –∏–º—è —à–µ–ø–æ—Ç–æ–º", "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ —Ä—É–∫–∞–º–∏",
    "–ü—Ä–∏–¥—É–º–∞–π —Å–º–µ—à–Ω–æ–π –∑–≤—É–∫", "–ò–∑–æ–±—Ä–∞–∑–∏ —ç–º–æ—Ü–∏—é –±–µ–∑ –ª–∏—Ü–∞", "–°–¥–µ–ª–∞–π 5 –ø—Ä—ã–∂–∫–æ–≤", "–°–∫–∞–∂–∏ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç —Å–æ—Å–µ–¥—É",
    "–ü–æ–∫–∞–∂–∏ —Å–º–µ—à–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–æ–≥–∞–º–∏", "–°–∫–∞–∂–∏ —Å—Ç—Ä–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ –≤—Å–ª—É—Ö", "–ò–∑–æ–±—Ä–∞–∑–∏ –ª—é–±–∏–º–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ",
    "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–π –∂–µ—Å—Ç —Ä—É–∫–∞–º–∏", "–°–∫–∞–∂–∏ —Ñ—Ä–∞–∑—É –∑–∞–¥–æ–º –Ω–∞–ø–µ—Ä–µ–¥", "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –ª–∏—Ü–æ –∏ –∑–≤—É–∫",
    "–ü—Ä—ã–≥–Ω–∏ 5 —Ä–∞–∑ –Ω–∞ –º–µ—Å—Ç–µ", "–ò–∑–æ–±—Ä–∞–∑–∏ —Å–º–µ—à–Ω–æ–π –∑–≤—É–∫", "–°–∫–∞–∂–∏ —Å–ª–æ–≤–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º", "–°–¥–µ–ª–∞–π 5 –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–π",
    "–ò–∑–æ–±—Ä–∞–∑–∏ —ç–º–æ—Ü–∏—é", "–°–ø–æ–π –º–µ–ª–æ–¥–∏—é –±–µ–∑ —Å–ª–æ–≤", "–°–∫–∞–∂–∏ —Å–º–µ—à–Ω–æ–µ –∏–º—è", "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
    "–ü—Ä–æ—á–∏—Ç–∞–π —Å–∫–æ—Ä–æ–≥–æ–≤–æ—Ä–∫—É –±—ã—Å—Ç—Ä–æ", "–ò–∑–æ–±—Ä–∞–∑–∏ —Å–º–µ—à–Ω–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ", "–°–∫–∞–∂–∏ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç —Å–æ—Å–µ–¥—É",
    "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–π –∑–≤—É–∫", "–ò–∑–æ–±—Ä–∞–∑–∏ –ª—é–±–∏–º–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ", "–°–∫–∞–∂–∏ —Å–º–µ—à–Ω–æ–µ —Å–ª–æ–≤–æ", "–°–¥–µ–ª–∞–π —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–π —à–∞–≥",
    "–°–ø–æ–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –ø–µ—Å–Ω–∏", "–ò–∑–æ–±—Ä–∞–∑–∏ —ç–º–æ—Ü–∏—é", "–ü—Ä–∏–¥—É–º–∞–π —Å–º–µ—à–Ω—É—é —à—É—Ç–∫—É", "–°–∫–∞–∂–∏ —Ñ—Ä–∞–∑—É —Å–º–µ—à–Ω–æ",
    "–°–¥–µ–ª–∞–π –ø–∞–Ω—Ç–æ–º–∏–º—É", "–ò–∑–æ–±—Ä–∞–∑–∏ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç—å", "–°–∫–∞–∂–∏ —Å–ª–æ–≤–æ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º", "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ",
    "–ü—Ä–∏–¥—É–º–∞–π —Å–º–µ—à–Ω–æ–π –∑–≤—É–∫", "–°–∫–∞–∂–∏ —Å–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ", "–ò–∑–æ–±—Ä–∞–∑–∏ —ç–º–æ—Ü–∏—é –±–µ–∑ –ª–∏—Ü–∞", "–°–ø–æ–π —Ö–æ—Ä–æ–º (—Å–µ–±–µ)",
    "–ò–∑–æ–±—Ä–∞–∑–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–∑ –∏–≥—Ä—ã", "–°–¥–µ–ª–∞–π 10 –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–Ω–∏–π", "–ò–∑–æ–±—Ä–∞–∑–∏ —Å–º–µ—à–Ω–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –∏ –∑–≤—É–∫",
    "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω–æ–π –∂–µ—Å—Ç –∏ –ø–æ–¥–ø—Ä—ã–≥–Ω–∏", "–ü—Ä–∏–¥—É–º–∞–π –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –∏ –æ–ø–∏—à–∏ –±–ª—é–¥–æ",
    "–°–¥–µ–ª–∞–π –º–∏–Ω–∏-—Å–∫–µ—Ç—á 10 —Å–µ–∫—É–Ω–¥", "–í–æ–∑—å–º–∏ –ø—Ä–µ–¥–º–µ—Ç –∏ –∏–∑–æ–±—Ä–∞–∑–∏ –µ–≥–æ", "–ü—Ä–∏–¥—É–º–∞–π —Å–ª–æ–≥–∞–Ω –∏ —Å–∫–∞–∂–∏",
    "–ü–æ–∫–∞–∂–∏ —Å–º–µ—à–Ω–æ–π —Ç–∞–Ω–µ—Ü 8 —Å–µ–∫—É–Ω–¥", "–°–Ω–∏–º–∏ —Å–º–µ—à–Ω–æ–µ —Å–µ–ª—Ñ–∏ –∏ –ø–æ–∫–∞–∂–∏", "–ò–∑–æ–±—Ä–∞–∑–∏ —Ä–µ–∫–ª–∞–º—É –∑—É–±–Ω–æ–π –ø–∞—Å—Ç—ã",
    "–°–¥–µ–ª–∞–π —Å–º–µ—à–Ω—É—é —Ä–æ–∂–∏—Ü—É –∏ –∑–∞–º—Ä–∏—Å—å", "–°–ø–æ–π –ø–µ—Å–Ω—é –≥–æ–ª–æ—Å–æ–º –∞–∫—Ç—ë—Ä–∞", "–ù–∞–∑–æ–≤–∏ 3 —Å–º–µ—à–Ω—ã—Ö –∫—Ä–∞—è",
    "–ò–º–ø—Ä–æ–≤–∏–∑–∏—Ä—É–π —Å—Ü–µ–Ω—É –∏–∑ —Ñ–∏–ª—å–º–∞", "–°–∫–∞–∂–∏ 5 —Å–ª–æ–≤ –∑–∞–¥–æ–º –Ω–∞–ø–µ—Ä–µ–¥", "–°–æ–∑–¥–∞–π —Ä–∏—Ç–º –∏ –ø–æ—Å—Ç—É—á–∏—Ç–µ",
    "–ò–∑–æ–±—Ä–∞–∑–∏ –∂–∏–≤–æ—Ç–Ω–æ–µ –≤ –∑–∞–º–µ–¥–ª–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ", "–ü—Ä–∏–¥—É–º–∞–π 3 –ø–ª–æ—Ö–∏—Ö —à—É—Ç–∫–∏ –ø–æ–¥—Ä—è–¥", "–°–¥–µ–ª–∞–π –ª–∏—Ü–æ –∫–∞—Ä—Ç–æ—à–∫–∏",
    "–ü–æ–∫–∞–∂–∏, –∫–∞–∫ —Å—Ç—Ä—è—Ö–∏–≤–∞–µ—à—å –Ω–µ–≤–∏–¥–∏–º—É—é –≤–æ–¥—É", "–°–¥–µ–ª–∞–π –∑–≤—É–∫–∏ –¥–æ–∂–¥—è 10 —Å–µ–∫—É–Ω–¥", "–ò–∑–æ–±—Ä–∞–∑–∏ –≥–æ–≤–æ—Ä—è—â—É—é —á–∞—à–∫—É"
  ]
};

// 100 spy words (object {word,category,question})
const SPY_WORDS = [
  {"word":"–Ø–±–ª–æ–∫–æ","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–ë–∞–Ω–∞–Ω","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–ü–∏—Ü—Ü–∞","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë —Å—ä–µ—Å—Ç—å?"},
  {"word":"–ë—É—Ä–≥–µ—Ä","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–°—É–ø","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?"},
  {"word":"–°–∞–ª–∞—Ç","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–¢–æ—Ä—Ç","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–®–æ–∫–æ–ª–∞–¥","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–ö—É—Ä–∏—Ü–∞","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë —Å—ä–µ—Å—Ç—å?"},
  {"word":"–†—ã–±–∞","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?"},
  {"word":"–•–ª–µ–±","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–ú–æ–ª–æ–∫–æ","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ –≤—ã–ø–∏—Ç—å?"},
  {"word":"–°–æ–∫","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?"},
  {"word":"–ú–æ—Ä–æ–∂–µ–Ω–æ–µ","category":"food","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —Å—ä–µ—Å—Ç—å?"},
  {"word":"–ü–∞—Ä–∫","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º –≥—É–ª—è—Ç—å?"},
  {"word":"–ú–æ—Ä–µ","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º –æ—Ç–¥—ã—Ö–∞—Ç—å?"},
  {"word":"–ì–æ—Ä—ã","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º –±—ã—Ç—å?"},
  {"word":"–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º –ø–æ–±—ã–≤–∞—Ç—å?"},
  {"word":"–ú—É–∑–µ–π","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ –ø–æ—Å–µ—Ç–∏—Ç—å?"},
  {"word":"–ü–ª—è–∂","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º –æ—Ç–¥—ã—Ö–∞—Ç—å?"},
  {"word":"–ü–ª–æ—â–∞–¥—å","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º –ø—Ä–æ–≥—É–ª—è—Ç—å—Å—è?"},
  {"word":"–†–µ—Å—Ç–æ—Ä–∞–Ω","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º –ø–æ–µ—Å—Ç—å?"},
  {"word":"–®–∫–æ–ª–∞","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º —É—á–∏—Ç—å—Å—è?"},
  {"word":"–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞","category":"places","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ç–∞–º —á–∏—Ç–∞—Ç—å?"},
  {"word":"–°–æ–±–∞–∫–∞","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë –∑–∞–≤–µ—Å—Ç–∏?"},
  {"word":"–ö–æ—à–∫–∞","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë –∑–∞–≤–µ—Å—Ç–∏?"},
  {"word":"–°–ª–æ–Ω","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —É–≤–∏–¥–µ—Ç—å?"},
  {"word":"–¢–∏–≥—Ä","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —É–≤–∏–¥–µ—Ç—å –µ–≥–æ?"},
  {"word":"–ü—Ç–∏—Ü–∞","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë —É–≤–∏–¥–µ—Ç—å?"},
  {"word":"–õ–µ–≤","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —É–≤–∏–¥–µ—Ç—å –µ–≥–æ?"},
  {"word":"–û–±–µ–∑—å—è–Ω–∞","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë —É–≤–∏–¥–µ—Ç—å?"},
  {"word":"–ö—Ä–æ–ª–∏–∫","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —É–≤–∏–¥–µ—Ç—å?"},
  {"word":"–ú—ã—à—å","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë —É–≤–∏–¥–µ—Ç—å?"},
  {"word":"–ñ–∏—Ä–∞—Ñ","category":"animals","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ —É–≤–∏–¥–µ—Ç—å?"},
  {"word":"–î–æ–∫—Ç–æ—Ä","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–£—á–∏—Ç–µ–ª—å","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–ü–æ–≤–∞—Ä","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–í–æ–¥–∏—Ç–µ–ª—å","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–ü–µ–≤–µ—Ü","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–ê–∫—Ç—ë—Ä","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–ò–Ω–∂–µ–Ω–µ—Ä","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–•—É–¥–æ–∂–Ω–∏–∫","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–§–æ—Ç–æ–≥—Ä–∞—Ñ","category":"professions","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –±—ã—Ç—å –∏–º?"},
  {"word":"–¢–µ–ª–µ—Ñ–æ–Ω","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?"},
  {"word":"–ö–Ω–∏–≥–∞","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ—ë –ø—Ä–æ—á–∏—Ç–∞—Ç—å?"},
  {"word":"–ú—è—á","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Å –Ω–∏–º –∏–≥—Ä–∞—Ç—å?"},
  {"word":"–°—Ç—É–ª","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –Ω–∞ –Ω—ë–º —Å–∏–¥–µ—Ç—å?"},
  {"word":"–ß–∞—à–∫–∞","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –ø–∏—Ç—å –∏–∑ –Ω–µ—ë?"},
  {"word":"–ö–æ–º–ø—å—é—Ç–µ—Ä","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ –Ω–∏–º?"},
  {"word":"–ö–ª—é—á","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ –¥–µ—Ä–∂–∞—Ç—å?"},
  {"word":"–û—á–∫–∏","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –∏—Ö –Ω–æ—Å–∏—Ç—å?"},
  {"word":"–ß–∞—Å—ã","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –∏—Ö –Ω–æ—Å–∏—Ç—å?"},
  {"word":"–ü–ª–∞–Ω—à–µ—Ç","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –µ–≥–æ –∏–º–µ—Ç—å?"},
  {"word":"–ë–ª–æ–∫–Ω–æ—Ç","category":"objects","question":"–¢—ã –±—ã —Ö–æ—Ç–µ–ª –≤ –Ω—ë–º –ø–∏—Å–∞—Ç—å?"}
];
// duplicate/extend if less than 100: repeat entries (ok for playable demo)
while(SPY_WORDS.length < 100) SPY_WORDS.push(...SPY_WORDS.slice(0, Math.min(100 - SPY_WORDS.length, SPY_WORDS.length)));

///// STATE /////
let state = {
  mode: null,
  players: [], // {name, fatigue, doubleNext(bool), alive:bool, role, privateSeen:false}
  mafiaSettings: {mafiaCount:1, doctor:true, sheriff:true},
  tasksLoadedFromUrl: false
};

///// HELPERS /////
function log(msg){
  const logEl = document.getElementById('log');
  const d = document.createElement('div'); d.innerText = `[${new Date().toLocaleTimeString()}] ${msg}`;
  logEl.prepend(d);
}
function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]] } return a; }

///// LOAD EXTERNAL TASKS /////
async function loadExternalTasks(){
  const url = document.getElementById('tasksUrl').value.trim();
  if(!url) return alert('–í—Å—Ç–∞–≤—å raw JSON URL');
  document.getElementById('tasksStatus').innerText = '–ó–∞–≥—Ä—É–∂–∞—é...';
  try{
    const r = await fetch(url);
    if(!r.ok) throw new Error('fetch failed');
    const j = await r.json();
    // expect structure {easy: {truth:[], dare:[]}}
    if(j && j.easy && Array.isArray(j.easy.truth) && Array.isArray(j.easy.dare)){
      EMBEDDED.truths = j.easy.truth.slice(0,100); // cap 100
      EMBEDDED.dares = j.easy.dare.slice(0,100);
      document.getElementById('tasksStatus').innerText = '–ó–∞–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.';
      state.tasksLoadedFromUrl = true;
      log('–í–Ω–µ—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã.');
    } else throw new Error('invalid format');
  }catch(e){
    document.getElementById('tasksStatus').innerText = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è.';
    log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π: '+e.message);
  }
}

///// MODE ROUTER /////
function openMode(mode){
  state.mode = mode;
  if(mode==='truth') renderTruthMenu();
  else if(mode==='spy') renderSpyMenu();
  else if(mode==='mafia') renderMafiaMenu();
}

///// TRUTH / DARE //////
// players for truth/dare are stored in state.players
function renderTruthMenu(){
  // reset players array for truth/dare
  state.players = [];
  const html = `
    <h2>–ü—Ä–∞–≤–¥–∞ –∏–ª–∏ –î–µ–π—Å—Ç–≤–∏–µ</h2>
    <div style="margin-top:8px">
      <input id="td_name" placeholder="–ò–º—è –∏–≥—Ä–æ–∫–∞ (–≤–≤–µ–¥–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ –î–æ–±–∞–≤–∏—Ç—å)">
      <button onclick="tdAddPlayer()">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
      <div id="td_list" class="small" style="margin-top:6px"></div>
      <div style="margin-top:8px">
        <button class="primary" onclick="tdStart()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        <button class="muted" onclick="mainBoard()">–ù–∞–∑–∞–¥</button>
      </div>
    </div>
  `;
  document.getElementById('mainArea').innerHTML = `<div class="card">${html}</div>`;
  document.getElementById('log').innerHTML = '';
  log('–û—Ç–∫—Ä—ã—Ç–æ –º–µ–Ω—é –ü—Ä–∞–≤–¥–∞/–î–µ–π—Å—Ç–≤–∏–µ.');
}

function tdAddPlayer(){
  const name = document.getElementById('td_name').value.trim();
  if(!name) return;
  state.players.push({name, fatigue:0, doubleNext:false, streak:0, alive:true, role:null, privateSeen:false});
  document.getElementById('td_list').innerText = state.players.map(p=>p.name).join(', ');
  document.getElementById('td_name').value = '';
}

let tdTurnIndex = 0;
function tdStart(){
  if(state.players.length < 2) return alert('–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 –∏–≥—Ä–æ–∫–∞');
  tdTurnIndex = 0;
  renderTDTask();
  log('–°—Ç–∞—Ä—Ç –∏–≥—Ä—ã –ü—Ä–∞–≤–¥–∞/–î–µ–π—Å—Ç–≤–∏–µ.');
}
function renderTDTask(extra=false){
  const p = state.players[tdTurnIndex];
  const isTruth = Math.random() < 0.5;
  const arr = isTruth ? EMBEDDED.truths : EMBEDDED.dares;
  const task = arr[Math.floor(Math.random()*arr.length)] || (isTruth ? '–°–∫–∞–∂–∏ —á—Ç–æ-—Ç–æ –ø—Ä–∞–≤–¥–∏–≤–æ–µ' : '–í—ã–ø–æ–ª–Ω–∏ –¥–µ–π—Å—Ç–≤–∏–µ');
  document.getElementById('mainArea').innerHTML = `<div class="card">
    <h2>${p.name}</h2>
    <p>${isTruth ? 'ü§î –ü—Ä–∞–≤–¥–∞' : 'üî• –î–µ–π—Å—Ç–≤–∏–µ'}</p>
    <p style="font-weight:700">${task}</p>
    <div style="display:flex;gap:8px">
      <button class="primary" onclick="tdComplete()">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
      <button class="muted" onclick="tdSkip()">–û—Ç–∫–∞–∑</button>
    </div>
    <div style="margin-top:10px" class="small">–£—Å—Ç–∞–ª–æ—Å—Ç—å: ${p.fatigue} ¬∑ –°—Ç—Ä–∏–∫: ${p.streak}</div>
  </div>`;
  // advance turn index unless extra true
  if(!extra){
    tdTurnIndex = (tdTurnIndex + 1) % state.players.length;
  }
}
function tdComplete(){
  const prevIndex = (tdTurnIndex - 1 + state.players.length) % state.players.length;
  const p = state.players[prevIndex];
  p.streak = (p.streak || 0) + 1;
  if(p.streak >= 2){
    p.streak = 0;
    // award doubleNext as card-like mechanic
    p.doubleNext = true;
    log(`${p.name} –ø–æ–ª—É—á–∏–ª –±–æ–Ω—É—Å: –¥–≤–æ–π–Ω–æ–π —Ö–æ–¥ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑.`);
  }
  renderTDTask();
}
function tdSkip(){
  const prevIndex = (tdTurnIndex - 1 + state.players.length) % state.players.length;
  const p = state.players[prevIndex];
  p.fatigue = (p.fatigue || 0) + 1;
  p.streak = 0;
  log(`${p.name} –æ—Ç–∫–∞–∑–∞–ª—Å—è (—É—Å—Ç–∞–ª–æ—Å—Ç—å ${p.fatigue}).`);
  if(p.fatigue >= 2){
    p.fatigue = 0;
    p.doubleNext = true;
    // doubleNext will be handled when this player's turn comes
    log(`${p.name} –ø–æ–ª—É—á–∏–ª —ç—Ñ—Ñ–µ–∫—Ç: –¥–≤–æ–π–Ω–æ–π —Ö–æ–¥ (–∑–∞ 2 –æ—Ç–∫–∞–∑–∞).`);
  }
  // check if next player has doubleNext -> if s
